/**
 * 
 */

function initPatientForm(p_id) {
	PatientForm['p_id'] = p_id;
	if(db){
		var tran = db.transaction(["form_data"], "readwrite");
		
		var store = transaction.objectStore("form_data");
		
		var pForm = {};
		pForm['p_id'] = p_id;
		var request = store.add(pForm);
		request.onsucess = function(e){
			console.log("Added Patient Form instance");
		}
		
		request.onerror = function(e){
			console.log(e.target.error.message);
		}
	}
}

//Add function callback as parameter to be called once patient is found
function getPatientForm(p_id){
	var objectStore = db.transaction(["form_data"], "readonly").objectStore("form_data");
	
	var req = objectStore.get(p_id);
	request.onerror = function(e){
		console.error("Couldn't find patient with id: " + p_id);
	}
	
	request.onsuccess = function(e){
		//Return patient with callback
	}
}

function addPersonal(gp_county, county, relation, p_id) {
	if(db) {
		var tran = db.transaction(["form_data"],"readwrite");
		var store = tran.objectStore("form_data");
		var request = store.get(p_id);
		
		request.onsuccess = function(e){
			var pForm = request.result;
			pForm['gp_county'] = gp_county;
			pForm['county'] = county;
			pForm['relation'] = relation;
			
			var update = store.put(pForm);
			
			update.onsuccess = function(e){
				console.log("Patient updated successfully");
			}
			
			update.onerror = function(e) {
				console.error("Something went wrong, patient wasn't updated correctly: " + e.target.error.message);
			}
		}
	}
}

function addHistory()