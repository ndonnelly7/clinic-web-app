<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Patient Details</title>
<link rel="stylesheet" href="/css/page-style.css" type="text/css"/>
<link rel="stylesheet" href="/css/pure_grid.css" type="text/css"/> 
<link rel="stylesheet" href="/css/jquery-ui.css" /> 
<link rel="stylesheet" href="/css/pure-min.css"/>
</head>
<body>
<h2>Personal Details</h2>
<div id="navbar"> 
  <ul> 
	<li class="current_page"><a href="./patient_info.html">Patient Information</a></li> 
	<li><a href="./history_form.html">Patient History</a></li> 
	<li><a href="./medical_form.html">GP Information</a></li>
	<li><a href="./concerns_form.html">Patient Concerns</a></li>
	<li><a href="./neuro_history.html">Neuro History</a></li> 
	<li><a href="./events_activities.html">Events and Activities</a></li> 
	<li><a href="./living_form.html">Living Situation</a></li>
	<li><a href="./lifestyle.html">Patient Lifestyle</a></li>
	<li><a href="./memory_test.html">Memory Test</a></li>
	<li><a href="./analysis.html">Summary and Analysis</a></li> 
  </ul> 
</div> 
<form id="personal_form" class="pure-form pure-form-aligned" method="POST" action="/personal_details.do">
	<fieldset id="personal_field">
		<legend>Personal</legend>
		<div class="pure-control-group">
		<label for="name">Name </label>
		<input name="name" type="text">
		</div>
		<div class="pure-control-group">
		<label for="dob">Date of Birth </label>
		<input name="dob" placeholder="dd/mm/yyyy" type="text" class="suggest_form" id="pickdate">
		</div>
		<div class="pure-control-group">
		<label for="age">Age </label>
		<input name="age" type="text" size="1">
		</div>
		<div class="pure-control-group">		
		<label for="gender_m">Male</label>
		<input type="radio" name="gender" id="gender_m" value="male">
		</div>
		<div class="pure-control-group">
		<label for="gender_f">Female</label>
		<input type="radio" name="gender" id="gender_f" value="female">
		</div>
	</fieldset>
	<br>
	<fieldset id="contact_field">
		<legend>Contact Details</legend>
		<div class="pure-control-group">
		<label for="address">Address </label>
		<textarea name="address" rows="4" form="personal_form"></textarea>
		</div>
		<div class="pure-control-group want_counties">
		</div>
		<div class="pure-control-group">
		<label for="home_tel">Home Telephone Number </label>
		<input name="home_tel" type="text">
		</div>
		<div class="pure-control-group">
		<label for="mob_number">Mobile Phone Number </label>
		<input name="mob_number" type="text">
		</div>
		<div class="pure-control-group">
		<label for="email">Email </label>
		<input name="email" type="email">
		</div>
	</fieldset>
	<br><br>
	<fieldset id="edu_field">
		<legend>Education and Employment</legend>
		<div class="pure-control-group">
		<label for="age_left">Age Left Education</label>
		<input type="text" name="age_left" size="1">
		</div>
		<div class="pure-control-group">
		<label>Have you completed:</label>
		</div>
		<div class="pure-control-group">
		<label for="junior_check">Junior Certificate</label>
		<input type="checkbox" name="junior_check">
		</div>
		<div id="junior_done" class="pure-control-group">
		<label for="leaving_check">Leaving Certificate</label>
		<input type="checkbox" name="leaving_check"><br>
		</div>
		<div id="leaving_done" class="pure-control-group">
		<label for="third_check">Third Level</label>
		<input type="checkbox" name="third_check" onclick="showHiddenDiv(this,'third_done')"><br>
		</div>
		<div id="third_done" class="hide_div pure-control-group">
		<label for="study_topic">Area of Study</label>
		<input type="text" name="study_topic"><br>
		</div>	
		<br>	
		<div class="pure-control-group">
		<label for="occupation">Occupation</label>
		<input name="occupation" type="text">
		</div>
	</fieldset>
	<br><br>
	<fieldset id="gp_field">
		<legend>GP Details</legend>
		<div class="pure-control-group">
		<label for="gp_name">GP Name</label>
		<input type="text" name="gp_name">
		</div>
		<div class="pure-control-group">
		<label for="gp_address">GP Address</label>
		<textarea name="gp_address" rows="4" form="personal_form"></textarea>
		</div>
		<div class="pure-control-group want_counties">
		</div>
	</fieldset>
	<br><br>
	<fieldset id="family_pres_field">
		<legend>Others present</legend>
		<div class="pure-control-group">
			<label for="family_present_check">Are any family or friends present?</label>
			<input type="checkbox" name="family_present_check" id="collat_check" value="ff_present" onclick="collatChecked(this, 'family_pres_div')">
		</div>
		<div class="pure-control-group hide_div" id="family_pres_div">
			<label for="who_present">Relation</label>
			<select name="who_present">
				<option value="partner">Partner</option>
				<option value="child">Child</option>
				<option value="sibling">Sibling</option>
				<option value="friend">Friend</option>
			</select>
		</div>
	</fieldset>
	<br><br>
</form>
<div class="footer">
	<a href="./history_form.html">Next Page</a>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script src="/js/main.js"></script>
<script>

$(document).ready(function() {
	$('#collat_check').prop("checked", checkCollateral());
	$('#family_pres_div').show();
	
	$('.hide_div').hide();
});

$(function() {
    $( "#pickdate" ).datepicker({
      changeMonth: true,
      changeYear: true,
      yearRange: "1900:" + (new Date()).getFullYear(),
      dateFormat: "dd/MM/yy"
    });
  });
  
function collatChecked(elem, divID){
	showHiddenDiv(elem, divID);
	
	storeCollateral(elem);
};

function storeCollateral(elem) {
	if(typeof(sessionStorage) != 'undefined') {
		sessionStorage.collatPresent = ($(elem).prop("checked"));
		console.log("CollatPresent: " + sessionStorage.collatPresent);
	} else {
		console.log("No session storage :(")
	}
}
</script>
</body>
</html>